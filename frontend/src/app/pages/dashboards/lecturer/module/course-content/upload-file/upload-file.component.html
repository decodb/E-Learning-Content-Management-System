<div class="backdrop" (click)="navigate()"></div>
<dialog open>
  @if(isLoading()) {
    <div class="overlay">
        <div class="spinner-container">
            <div class="spinner"></div>
            <p>Please be patient while the file is uploading...</p>
        </div>
  </div>
  } @else {
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <h2>Add Student</h2>
        <p>
            <label for="title">Title<span>*required</span></label>
            <input type="text" id="title" name="title" formControlName="title" placeholder="C++ Programming"/>
        </p>

        <p>
            <label for="file">File  <span>*required</span> </label>
            <input type="file" id="file" name="file" (change)="onFileChange($event)"/>
        </p>
        @if(message().length > 0) {
            <p class="response"><ion-icon name="checkmark-circle-outline"></ion-icon>{{ message() }}</p>
        }
        <button type="submit" class="btn" [disabled]="isLoading()">
            Add a student
            @if(isLoading()) {
                <span class="spinner"></span>
            }
        </button>
    </form>
  }
  
</dialog>
